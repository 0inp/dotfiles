- defaults:
    shell:
      stdin: true
      stdout: true
      stderr: true
    link:
      relink: true
- clean: ['~']
- link:
    ~/.config: symlinks/config
    ~/.gitconfig: symlinks/gitconfig
    ~/.gitignore: symlinks/gitignore
    ~/.gnupg/gpg.conf: symlinks/gnupg/gpg.conf
    ~/.gnupg/gpg-agent.conf: symlinks/gnupg/gpg-agent.conf
    ~/.tmux.conf: symlinks/tmux.conf
    ~/.pythonrc: symlinks/pythonrc
    ~/.tmux-windows: symlinks/tmux-windows
    ~/.zsh: symlinks/zsh
    ~/.zshrc: symlinks/zshrc
- shell:
    - [brew cleanup && brew upgrade, Upgrade brew]
- tap:
    - homebrew/bundle
    - homebrew/core
    - homebrew/cask
    - homebrew/cask-fonts
    - amar1729/formulae
- cask:
    - font-hack-nerd-font
- brew:
    - bat # better cat
    - browserpass # password manager
    - coreutils
    - diff-so-fancy # fancy git diff
    - exa # ls alternative
    - fd # find alternative
    - git
    - gitlint # Linting comiit messages
    - glow # Render markdown
    - gnupg
    - htop # top alternative
    - neovim # neovim
    - node # Node
    - openssl
    - pgcli # PGCli
    - pinentry-mac
    - pyenv
    - pyenv-virtualenv
    - raycast # better Spotlight
    - readline
    - rectangle # macos window management
    - ripgrep # very fast file searcher
    - sqlite3
    - starship # prompt
    - stats # System stats menu bar
    - the_silver_searcher
    - tmux # sessions multiplexer
    - xz # Compression
    - wget
    - zlib
    - zsh
- shell:
    - ['chmod +x "${HOME}/dotfiles/resources/chtfzf.sh"', Ensure that cheatsheet fzf script is executable]
    - command: if [ -d "$HOME/.fzf" ]; then cd ~/.fzf/ && git pull && ./install; else git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf && ~/.fzf/install; fi
      description: FZF useful keybindings and competion
    - [pyenv install -s 3.11.0 3.10.9 3.9.16 3.8.16 3.7.16 3.6.15 && pyenv global
        3.11.0, Install python versions] # install differents python versions
    - [python -m pip install --upgrade pip, Upgrade Pip] # Upgrade pip
    - [git submodule sync --recursive, Sync submodules]
    - [git submodule update --init --recursive, Install submodules] # install submodules
    - [PREFIX='/usr/local/opt/browserpass' make hosts-chrome-user -f /usr/local/opt/browserpass/lib/browserpass/Makefile,
      Configure Browserpass] # Configure browserpass extension
    - [pip install --user tmuxp, Install tmux session manager] # install tmux
    - ['curl -sSL https://install.python-poetry.org | python3 -', Install poetry] # install poetry
    - [poetry self update, Update poetry] # update poetry
    - command: sudo chsh -s $(which zsh) ${USER} # switch to zsh
      description: Switch to ZSH
    - command: tic -x "$PWD/resources/tmux.terminfo"
      description: Add italics 256 colors to tmux
    - command: $PWD/resources/macos_settings.sh
      description: Defaults MacOS settings
  git:
    '~/.tmux/plugins/tpm':
      url: 'https://github.com/tmux-plugins/tpm.git'
      description: 'tmux plugins manager'
    '~/.fzf-tab':
      url: 'https://github.com/Aloxaf/fzf-tab'
      description: 'fzf-tab autocompletion with fzf'
